<app-breadcrumb title="Carrito" [image]="null" subTitle="Carrito"></app-breadcrumb>
<div class="container" *ngIf="shoppingCartService.cart$ | async as cart">
    <div class="row">
        <div class="cart col-12">
            <table class="cart-items ml-auto w-100" *ngIf="cart.items.length > 0">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th class="text-center">Cantidad</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of cart.items" class="cart_item">
                        <td class="d-flex align-items-center item-name-content">
                            <i (click)="deleteItem(item.id)" class="icon-delete-item">
                                <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="none" stroke="#000" stroke-width="1.06" d="M16,16 L4,4"></path>
                                    <path fill="none" stroke="#000" stroke-width="1.06" d="M16,4 L4,16"></path>
                                </svg>
                            </i>
                            <a class="item-thumbnail" [routerLink]="['/p',item.url]">
                                <img [src]="item.cover" [alt]="item.name" class="img-fluid">
                            </a>
                            <div class="item-name">
                                <span class="d-md-none">Producto:</span>
                                <a [routerLink]="['/p',item.url]" class="text-decoration-none">{{item.name}}</a>
                            </div>
                        </td>
                        <td class="item-price">
                            <span class="d-md-none">Precio:</span>
                            <span>S/{{item.price | number: '1.2-2' }}</span>
                        </td>
                        <td class="item-quantity">
                            <span class="d-md-none">Cantidad:</span>
                            <app-qty [product]="item" [btn]="false" [quantity]="item.quantity"
                                (changeQty)="item.quantity_edit = $event"></app-qty>
                        </td>
                        <td class="item-total">
                            <span class="d-md-none">Total:</span>
                            <span>S/{{ (item.quantity * item.price) | number: '1.2-2' }}</span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="cart-total" *ngIf="cart.items.length > 0">
                <thead>
                    <tr>
                        <th>
                            <h5>Carrito Total</h5>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="cart-subtotal">
                        <th>Subtotal</th>
                        <td class="text-right">S/{{cart.totalCart() | number: '1.2-2' }}</td>

                    </tr>
                    <tr class="order-total">
                        <th>Total</th>
                        <td class="text-right">S/{{cart.totalCart() | number: '1.2-2' }}</td>
                    </tr>
                </tbody>
                <tfoot class="w-100">
                    <a class="button-petshop text-center text-white text-decoration-none position-relative d-flex align-items-center justify-content-center mt-4"
                        routerLink="/checkout">Procesar Compra</a>
                </tfoot>
            </table>
            <div class="empty-cart pb-5" *ngIf="cart.items.length < 1">
                <svg xmlns="http://www.w3.org/2000/svg" width="250" height="250" viewBox="0 0 512 512">

                    <polygon points="473.668,139.109 410.282,303.914 153.733,303.914 98.973,30.118 0,30.118 0,71.187 65.305,71.187
                120.064,344.984 438.488,344.984 512,153.853" />

                    <path d="M191.658,358.674c-33.969,0-61.604,27.634-61.604,61.604s27.636,61.604,61.604,61.604
                c33.969,0,61.604-27.634,61.604-61.604S225.626,358.674,191.658,358.674z M191.658,440.813c-11.323,0-20.535-9.211-20.535-20.535
                s9.212-20.535,20.535-20.535c11.323,0,20.535,9.211,20.535,20.535S202.981,440.813,191.658,440.813z" />

                    <path d="M369.626,358.674c-33.969,0-61.604,27.634-61.604,61.604s27.636,61.604,61.604,61.604
                c33.969,0,61.604-27.634,61.604-61.604S403.594,358.674,369.626,358.674z M369.626,440.813c-11.323,0-20.535-9.211-20.535-20.535
                s9.212-20.535,20.535-20.535s20.535,9.211,20.535,20.535S380.949,440.813,369.626,440.813z" />

                    <path d="M376.108,104.419c-4.805-13.676-11.458-25.504-19.96-35.484s-18.609-17.799-30.309-23.471
                c-11.706-5.666-24.338-8.501-37.887-8.501c-13.803,0-26.493,2.835-38.071,8.501c-11.586,5.672-21.623,13.491-30.124,23.471
                c-8.501,9.98-15.155,21.808-19.96,35.484c-4.805,13.676-7.208,28.646-7.208,44.91c0,16.263,2.403,31.233,7.208,44.909
                c4.805,13.676,11.458,25.504,19.96,35.484c8.501,9.979,18.539,17.742,30.124,23.286c11.579,5.544,24.268,8.317,38.071,8.317
                c13.549,0,26.18-2.772,37.887-8.317c11.701-5.544,21.808-13.307,30.309-23.286c8.501-9.98,15.155-21.808,19.96-35.484
                c4.805-13.676,7.208-28.646,7.208-44.91C383.315,133.065,380.913,118.095,376.108,104.419z M330.089,176.311
                c-2.218,8.132-5.36,15.155-9.425,21.069s-8.871,10.475-14.415,13.676c-5.544,3.205-11.643,4.805-18.296,4.805
                c-6.902,0-13.122-1.6-18.666-4.805c-5.544-3.199-10.349-7.762-14.415-13.676c-4.066-5.914-7.208-12.937-9.425-21.069
                s-3.327-17.125-3.327-26.983c0-9.853,1.109-18.908,3.327-27.167c2.218-8.252,5.36-15.339,9.425-21.253
                c4.066-5.914,8.871-10.47,14.415-13.676c5.544-3.199,11.765-4.805,18.666-4.805c6.653,0,12.752,1.606,18.296,4.805
                c5.544,3.206,10.35,7.762,14.415,13.676c4.066,5.914,7.208,13,9.425,21.253c2.218,8.259,3.327,17.315,3.327,27.167
                C333.416,159.187,332.307,168.18,330.089,176.311z" />
                </svg>
                <h2 class="text-center pb-5">NO TIENES PRODUCTOS EN TU CARRITO</h2>
            </div>
        </div>
    </div>
</div>
